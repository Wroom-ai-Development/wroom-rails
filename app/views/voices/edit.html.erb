<%= turbo_frame_tag "voice_editor" do %>
  <%= turbo_stream_from 'voices' %>
  <div class="voice-editor" id="editor-<%= @voice.id %>">
    <div id="record-form-view">
      <div id="record-form-box">
        <div id="header">
        <%= button_to "❌", @voice, method: :delete, id: 'delete-button',
          form: {
            id: 'delete-form',
            data: {
                turbo: false,
                controller: "confirmation",
                action: 'submit->confirmation#confirm',
                confirmation_message_value: "Please confirm you meant to delete #{@voice.name}",
            }
          } %>
          <i class="fa-solid fa-trash fa-fw delete-voice" onClick="document.getElementById('delete-button').click();"></i>
        </div>
        <%= render "form", voice: @voice %>
      </div>
    </div>
  </div>
<% end %>
